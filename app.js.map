{"mappings":";;;;;AAAA,MAAM,gCAAU;;AAChB,MAAM,6BAAO,mBAAuB;;AACpC,MAAM,2BAAK,gBAAqB,4BAAM;IAClC,MAAM;QACF,QAAQ;QACR,SAAS;YAAC;YAAO;SAAO;IAC5B;AACJ;AAGA,2BAAK,OAAO,MAAM,IAAM,QAAQ,IAAI;AACpC,IAAI,8BAAO,IAAI;AAEf,yBAAG,GAAG,SAAS,GAAG,cAAc,CAAC;IAC7B,QAAQ,IAAI,sBAAsB,OAAO;IAEzC,OAAO,GAAG,cAAc;QACpB,4BAAM,OAAO,OAAO;QACpB,OAAO,UAAU,KAAK,yBAAyB,OAAO;IAC1D;IAEA,OAAO,GAAG,eAAe,CAAC;QACtB,MAAM,SAAS,KAAK,MAAM;QAC1B,4BAAM,IAAI,OAAO,IAAK;QACtB,uBAAuB;QACvB,OAAO,KAAK,SAAS,KAAK,UAAU,MAAM,KAAK,4BAAM;QACrD,iBAAiB;QACjB,OAAO,UAAU,KAAK,SAAS,KAAK,UAAU,MAAM,KAAK,4BAAM;IACnE;IAEA,OAAO,GAAG,aAAa,CAAC;QACpB,MAAM,cAAc,KAAK,MAAM;QAC/B,MAAM,SAAS,4BAAM,IAAI,YAAY;QACrC,IAAI,QAAQ;YACR,OAAO,SAAS,IAAI,YAAY;YAChC,OAAO,SAAS,IAAI,YAAY;YAChC,4BAAM,IAAI,OAAO,IAAI;YACrB,OAAO,UAAU,KAAK,aAAa,KAAK,UAAU;QACtD;IACJ;AACJ","sources":["app.ts"],"sourcesContent":["const Express = require(\"express\")();\nconst Http = require(\"http\").Server(Express);\nconst io = require(\"socket.io\")(Http, {\n    cors: {\n        origin: \"*\",\n        methods: [\"GET\", \"POST\"]\n    }\n});\nimport { Kriger } from './lib'\n\nHttp.listen(3000, () => console.log('Lytter p√• 3000/demo'))\nlet users= new Map<string, Kriger>()\n\nio.of('/demo').on(\"connection\", (socket) => {\n    console.log('user connected -> ', socket.id)\n\n    socket.on('disconnect', () => {\n        users.delete(socket.id)\n        socket.broadcast.emit(\"user_disconnected -> \", socket.id)\n    })\n\n    socket.on('new-warrior', (data) => {\n        const kriger = JSON.parse(data) as Kriger\n        users.set(kriger.id , kriger);\n        // tilbage til afsender\n        socket.emit('users', JSON.stringify(Array.from(users.entries())))\n        // til alle andre\n        socket.broadcast.emit('users', JSON.stringify(Array.from(users.entries())))\n    })\n\n    socket.on('mouseMove', (data) => {\n        const koordinater = JSON.parse(data);\n        const kriger = users.get(koordinater.id)\n        if (kriger) {\n            kriger.position.x = koordinater.x\n            kriger.position.y = koordinater.y\n            users.set(kriger.id, kriger)\n            socket.broadcast.emit('moveMouse', JSON.stringify(kriger));\n        }\n    })\n});\n"],"names":[],"version":3,"file":"app.js.map"}